<!-- Cart View -->
<h1>Your Shopping Cart</h1>

<!-- Display Flash Messages -->
<% if flash[:notice] %>
  <p class="notice"><%= flash[:notice] %></p>
<% end %>
<% if flash[:alert] %>
  <p class="alert"><%= flash[:alert] %></p>
<% end %>

<% if @cart.cart_items.empty? %>
  <p>Your cart is empty.</p>
<% else %>
  <ul>
    <% @cart.cart_items.each do |item| %>
      <li>
        <%= item.product.title %> - Quantity: <%= item.quantity %>
        <!-- Remove button with confirmation -->
        <%= button_to 'Remove', cart_item_path(item), method: :delete, data: { confirm: 'Are you sure you want to remove this item?' } %>
        <!-- Update quantity form -->
        <%= form_with(model: [item], method: :patch, local: true) do |form| %>
          <%= form.number_field :quantity, min: 1 %>
          <%= form.submit "Update" %>
        <% end %>
      </li>
    <% end %>
  </ul>
<% end %>

<%= link_to 'Continue Shopping', products_path %>

<!-- Styles (Placeholder for your actual CSS) -->
<style>
  .notice, .alert {
    color: red;
    padding: 10px;
    margin: 10px 0;
    border: 1px solid #ccc;
  }
</style>
